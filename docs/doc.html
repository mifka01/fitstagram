<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>

<head>
	<meta http-equiv="content-type" content="text/html; charset=iso-8859-2" />
	<title>Projekt IIS</title>
	<style type="text/css">
		table {
			border-collapse: collapse;
		}

		td,
		th {
			border: 1px solid black;
			padding: 0.3em 0.5em;
			text-align: left;
		}

		dt {
			font-weight: bold;
			margin-top: 0.5em;
		}
	</style>
</head>

<body>

	<!-- Zkontrolujte prosím nastavení kódování v hlavièce dokumentu 
     podle pou¾itého editoru -->

	<h1>FITstagram</h1> <!-- Nahradte názvem svého zadání -->

	<dl>
		<dt>Autoøi</dt>
		<dd>Radim Mifka <!-- Nahraïte skuteèným jménem a e-mailem autora a popisem èinnosti -->
			<a href="mailto:xmifka00@stud.fit.vutbr.cz">xmifka00@stud.fit.vutbr.cz</a> -
			BE, FE, CI/CD
		</dd>
		<dd>Miroslav Bálek <!-- Nahraïte skuteèným jménem a e-mailem autora a popisem èinnosti -->
			<a href="mailto:xbalek02@stud.fit.vutbr.cz">xbalek02@stud.fit.vutbr.cz</a> -
			BE, FE, DB
		</dd>
		<dt>URL aplikace</dt>
		<dd><a href="https://nitte.cz/">https://nitte.cz/</a></dd>
	</dl>

	<h2>U¾ivatelé systému pro testování</h2>
	<p>Uveïte prosím existující zástupce <strong>v¹ech rolí u¾ivatelù</strong>.</p>
	<table>
		<tr>
			<th>Login</th>
			<th>Heslo</th>
			<th>Role</th>
		</tr>
		<tr>
			<td>admin</td>
			<td>ib3wVqnRY4bQRLm</td>
			<td>Administrátor</td>
		</tr>
		<tr>
			<td>moderator0</td>
			<td>s6sATaFffBPZICZ</td>
			<td>Moderátor</td>
		</tr>
		<tr>
			<td>stepanka08</td>
			<td>xPassword1242</td>
			<td>U¾ivatel</td>
		</tr>
	</table>

	<h3>Video</h3>

	<a href="">Odkaz na Video</a>

	<h2>Implementace</h2>
	<p>Jednotlivé pøípady pou¾ití v aplikaci jsou realizovány pomocí kontrolerù. Ní¾e je uveden pøehled hlavních
		kontrolerù a jejich úèelu.</p>
	<ul>
		<li>
			<strong>AuthController.php</strong><br>
			Správa autentizace: pøihlá¹ení, odhlá¹ení, registrace u¾ivatele.
		</li>
		<li>
			<strong>CommentController.php</strong><br>
			Operace s komentáøi: vytváøení, mazání komentáøù.
		</li>
		<li>
			<strong>GroupController.php</strong><br>
			Správa skupin: vytváøení, úprava, mazání a zobrazení informací o skupinách.
		</li>
		<li>
			<strong>GroupMembershipController.php</strong><br>
			Správa èlenství ve skupinách: správa ¾ádostí a odstraòování èlenù.
		</li>
		<li>
			<strong>LanguageController.php</strong><br>
			Nastavení jazykových preferencí: zmìna jazyka a správa lokalizace.
		</li>
		<li>
			<strong>PostController.php</strong><br>
			Operace s pøíspìvky: vytváøení, mazání, hlasování a zobrazování pøíspìvkù.
		</li>
		<li>
			<strong>SiteController.php</strong><br>
			Obecné stránky: domovská stránka, informace, kontaktní formuláø.
		</li>
		<li>
			<strong>TagController.php</strong><br>
			Správa ¹títkù: pøidávání, úprava, mazání a zobrazování ¹títkù.
		</li>
		<li>
			<strong>UserController.php</strong><br>
			Správa u¾ivatelù: informace o profilu, úprava údajù a seznam u¾ivatelù, blokovaní a odstranìní.
		</li>
	</ul>

	<h2>Bezpeènostní prvky</h2>
	<ul>
		<li>
			<strong>Role-Based Access Control (RBAC)</strong><br>
			Systém øízení pøístupu zalo¾ený na rolích implementovaný pomocí Yii2 RBAC manageru.</br>
			Oprávnìní jsou definována v <code>migrations/m241121_180103_init_rbac.php</code>
		</li>
		<li><strong>HTTPS Zabezpeèení</strong></li>
		<li>
			<strong>Google reCAPTCHA v3</strong><br>
			Ochrana proti automatizovaným útokùm a spamu. Implementována pøedev¹ím pøi odesílání kontaktního formuláøe.<br>
			ReCAPTCHA je nakonfigurována v souboru <code>.env</code> pomocí následujících promìnných:
			<ul>
				<li>RECAPTCHA_SITE_KEY - Veøejný klíè pro inicializaci reCAPTCHA na frontend</li>
				<li>RECAPTCHA_SECRET_KEY - Privátní klíè pro ovìøení na backend</li>
			</ul>
		</li>
	</ul>

	<h3>Databáze</h3>
	<img src="./dbschema.png" alt="Databázové schéma" width="80%">

	<h2>Pøehled systému</h2>
	<p>Aplikace je postavena na frameworku Yii2 a vyu¾ívá moderní technologie pro vývoj a nasazení.<br>
	Celé prostøedí je kontejnerizováno pomocí Dockeru, co¾ zaji¹»uje konzistentní bìhové prostøedí bez ohledu na platformu.<br>
	Frontend je plnì responzivní a aplikace podporuje vícejazyèné rozhraní díky modulu Yii2 i18n. Aktuálnì jsou dostupné jazykové verze pro èe¹tinu a angliètinu.<br>
	</p>
	<h2>Instalace</h2>

	<h2>Instalace na server</h2>
	<p>Projekt vyu¾ívá CI/CD pipeline pomocí GitHub Actions. Po pushnutí do vìtve main:<br>
		<ol>
			<li>Spustí se automatická kontrola kódu pomocí PHPStan (level 8)</li>
			<li>V pøípadì úspì¹né kontroly se provede deployment na FTP server</li>		
			<li>Automaticky se aplikují databázové migrace</li>
		</ol>
		Detailní konfiguraci pipeline najdete v souboru <a href="../.github/workflows/main.yml">.github/workflows/main.yml</a>
	</p>

	<p>Pro nastavení aplikace se pou¾ívá soubor <code>.env</code>, který se automaticky vytvoøí pøi nahrávání na server.</p>

	<h2>Softwarové po¾adavky</h2>
	V¹echny softwarové po¾adavky jsou zapouzdøeny v Docker containeru pro snadnìj¹í pøenositelnost.
	<ul>
		<li>PHP 8.3.*</li>
		<li>Node 20.*</li>
		<li>Composer 2.7.2</li>
		<li>Docker a Docker Compose (pro lokální vývoj)</li>
	</ul>
	<h3>Framework a knihovny</h3>
	<ul>
		<li>Yii2 Framework</li>
		<li>Tailwind CSS pro stylování</li>
		<li>PHPStan pro statickou analýzu kódu</li>
	</ul>

	<h2>Inicializace databáze</h2>
	<p>Pro inicializaci databáze postupujte následovnì:</p>
	<ul>
		<li>Spus»te pøíkaz <code>php yii migrate/fresh</code>, který vytvoøí novou strukturu databáze.</li>
		<li>Poté spus»te pøíkaz <code>php yii seed</code>, který naplní databázi testovacími daty.</li>
	</ul>
	<p>Celý proces je plnì automatizovaný, aby usnadnil vývoj.</p>
	

</body>

</html>
